<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="jp">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>顧客情報検索</title>
    <div th:replace="base_header"></div>

    <!-- ページ固有のCSSファイル -->
    <link rel="stylesheet" href="/css/s005CustomerInformationSearch.css" th:href="@{/css/s005CustomerInformationSearch.css}"/>

    <!-- ページ固有のJSファイル -->
    <script src="/js/page/s005CustomerInformationSearch.js" th:src="@{/js/page/s005CustomerInformationSearch.js}"></script>
</head>

<body>
	<div id="content">
		<div th:replace="header"></div>
		<main>
			<!-- 新規登録 -->
			<div class="row">
				<div class="col-6" style="text-align: left; margin-top: 10px; font-size:25px;">
					<label>お客様情報検索画面</label>
				</div>
				<div class="col-6" style="text-align: right; margin-top: 10px;">
				    <button v-on:click="moveMedicalNewRecord" class="newRegist">新規登録</button>
				</div>
			</div>
			<!-- 検索部分 -->
			<div class="searchBox">
				<div class="row">
					<div class="col-2">
						<label>店舗</label>
					</div>
					<div class="col-4">
						<select v-model="customerSearchList.shopCd">
							<option v-for="(item, index) in shopNameList" v-bind:value="item.code" v-bind:key="item.code">
                    			{{ item.name }}
                			</option>
						</select>
						<label>顧客番号</label>
					</div>
					<div class="col-3">
						<input type="text" v-model="customerSearchList.customerCd">
					</div>
					<div class="col-1"></div>
				</div>
				<div class="row">
					<div class="col-2">
						<label>名前</label>
					</div>
					<div class="col-4">
						<input type="text" v-model="customerSearchList.name">
						<label>カナ</label>
					</div>
					<div class="col-3">
						<input type="text" v-model="customerSearchList.nameKana">
					</div>
					<div class="col-1"></div>
				</div>
				<div class="row">
					<div class="col-2">
						<label>電話番号</label>
					</div>
					<div class="col-4">
						<input type="text" v-model="customerSearchList.telephone">
						<label>性別</label>
					</div>
					<div class="col-3">
						<select v-model="customerSearchList.sex">
							<option v-for="(item, index) in sexList" v-bind:value="item.code" v-bind:key="item.code">
                    			{{ item.name }}
                			</option>
						</select>
					</div>
					<div class="col-1"></div>
				</div>
				<div class="row">
					<div class="col-2">
						<label>来店日</label>
					</div>
					<div class="col-4">
						<input type="date" v-model="customerSearchList.visitDateStart">
						<label>～</label>
					</div>
					<div class="col-3">
						<input type="date" v-model="customerSearchList.visitDateEnd">
					</div>
					<div class="col-2"></div>
				</div>
				<div class="row">
					<div class="col-2">
						<label>摘要</label>
					</div>
					<div class="col-4">
						<input type="text" v-model="customerSearchList.outline">
						<label>担当</label>
					</div>
					<div class="col-3">
						<select v-model="customerSearchList.personName">
							<option v-for="(item, index) in personInChargeList" v-bind:value="item.code" v-bind:key="item.code">
                    			{{ item.name }}
                			</option>
						</select>
					</div>
					<div class="col-1"></div>
				</div>
				<div class="row" style="margin-top: 10px;">
					<div class="col-6"></div>
					<div class="col-2">
						<button class="searchBt" v-on:click="searchData">検索</button>
					</div>
					<div class="col-2">
						<button class="searchBt">条件クリア</button>
					</div>
					<div class="col-2">
						<button class="searchBt">CSV出力</button>
					</div>
				</div>
			</div>
			<div style="margin-top: 10px; text-align:right;">
				<select v-model="conditions" @change="customerInformationSort(conditions)" style="float: left;">
					<option></option>
					<option>顧客番号</option>
				</select>
			    <p style="padding-top: 5px;">表示件数：<span>{{ customerList.length }}</span>件</p>
			</div>
			<!-- 一覧部分 -->
			<div class="listBox">
				<div class="infoBox row" v-for="(customer, index) in customerList" :key="index" v-on:click="moveMedicalRecord">
			    	<div class="col-9">
			      		<div class="info" style="font-size: 15px;">
			        		<label>{{ customer.nameKana }}</label>
			      		</div>
			      		<div class="info" style="font-size: 20px; border-bottom:1px solid">
			        		<label>{{ customer.name }}</label><span style="margin-left: 100px;">様</span><span style="margin-left: 50px;">
			        		<label style="margin-left: 45px;font-size: 15px;">
			        		<span class="icon">
								<i class="fas fa-solid fa-phone"></i>
							</span>
			        		{{ customer.telephone }}</label></span>
			      		</div>
			      		<div class="info" style="font-size: 15px;">
					        <label>顧客番号:{{ customer.customerCd }}
					        <span style="margin-left: 10px;">{{ customer.birthdayStr }}生まれ</span>
					        <span style="margin-left: 10px;">{{ customer.age }}歳</span>
					        <span style="margin-left: 10px;">{{ customer.sex }}</span>
					        </label>
					        <span style="margin-left: 10px;"><label>{{ customer.address }}</label></span>
				      	</div>
				    </div>
					<div class="col-3" style="text-align: right;">
					 	<div class="date" style="font-size: 15px;">
					    	<label>前回来店日:</label><label>{{ customer.previousVisitDateStr }}</label>
					  	</div>
					  	<div class="date" style="font-size: 15px;">
					    	<label>次回来店日:</label><label>{{ customer.nextVisitDateStr }}</label>
					  	</div>
					</div>
				</div>
				<div class="row list">
					<div class="col-12" style="margin-top: 20px;">
						<label>これ以上検索結果がありません。</label>
					</div>
				</div>
			</div>
			<!-- モーダル -->
			<processing v-if="processingFlg"></processing>
		</main>
	</div>
	<div th:replace="footer"></div>
</body>
</html>