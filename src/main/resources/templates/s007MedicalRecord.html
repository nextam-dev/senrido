<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="jp">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>お客様情報カルテ</title>
    <div th:replace="base_header"></div>
    
    <!-- ページ固有のCSSファイル -->
    <link rel="stylesheet" href="/css/s007MedicalRecord.css" th:href="@{/css/s007MedicalRecord.css}"/>
    <link rel="stylesheet" href="/css/s008Questionnaire.css" th:href="@{/css/s008Questionnaire.css}"/>
    <link rel="stylesheet" href="/css/createDosuModal.css" th:href="@{/css/createDosuModal.css}"/>
    
    <!-- ページ固有のJSファイル -->
    <script src="/js/page/s007MedicalRecord.js" th:src="@{/js/page/s007MedicalRecord.js}"></script>
    <script src="/js/component/customerEditModal.js" th:src="@{/js/component/customerEditModal.js}"></script>
    <script src="/js/component/visitingHospitalModal.js" th:src="@{/js/component/visitingHospitalModal.js}"></script>
    <script src="/js/component/eyePositionModal.js" th:src="@{/js/component/eyePositionModal.js}"></script>
    <script src="/js/component/createDosuModal.js" th:src="@{/js/component/createDosuModal.js}"></script>

</head>

<body>
	<div id="content">
		<div th:replace="header"></div>
		<main>
			<div class="row">
				<div class="col-6" style="text-align: left; margin-top: 20px; font-size:25px;">
					<label>お客様情報詳細画面</label>
				</div>
				<div class="col-6" style="text-align: left; margin-top: 5px;">
					<button class="editBt"  v-on:click="scrollToAccordionGani">
						<span class="icon">
							<i class="fas fa-regular fa-eye"></i>
						</span>
						<br><span style="font-size: 16px;">眼位</span>
					</button>	
					<button class="editBt"  v-on:click="scrollToAccordionDosu">
						<span class="icon">
							<i class="fas fa-solid fa-glasses"></i>
						</span>
						<br><span style="font-size: 12px;">作成度数</span>
					</button>
					<button class="editBt"  v-on:click="scrollToAccordionKako">
						<span class="icon">
							<i class="fas fa-regular fa-table"></i>
						</span>
						<br><span style="font-size: 16px;">過去</span>
					</button>
					<button class="editBt"  v-on:click="scrollToAccordionUriage">
						<span class="icon">
							<i class="fas fa-solid fa-cash-register"></i>
						</span>
						<br><span style="font-size: 16px;">売上</span>
					</button>
				</div>
			</div>
			<!-- 個人情報 -->
			<div class="infoBox row">
				<div class="col-8">
					<div class="info" style="font-size: 15px;">
						<label>ヤマダタロウ</label>
					</div>
					<div class="info" style="border-bottom:1px solid">
						<span style="font-size: 40px; "><label>山田太郎</label><span style="margin-left: 200px;">様</span></span>
						<button class="telBt">
							<span class="icon">
								<i class="fas fa-regular fa-phone"></i>
							</span>
							<br><span style="font-size: 16px;">連絡先</span>
						</button>
						<button class="editBt" v-on:click="openEdit">
							<span class="icon">
								<i class="fas fa-regular fa-pen"></i>
							</span>
							<br><span style="font-size: 16px;">編集</span>
						</button>
					</div>
					<div class="info" style="font-size: 20px;">
						<label>ID:0001
						<span style="margin-left: 10px;">平成11年04月18日</span>
						<span style="margin-left: 10px;">生25歳</span>
						<span style="margin-left: 10px;">男性</span>
						</label>
					</div>
				</div>
				<div class="col-4" style="text-align: right;">
					<div class="date" style="font-size: 20px;">
						<label>前回来店日:</label><label>2024/10/24</label>
					</div>
					<div class="date" style="font-size: 20px;">
						<label>次回来店日:</label><label>2025/01/24</label>
					</div>
				</div>
			</div>
			<div class="scrollable-content">
				<!-- アコーディオン形式 -->
				<div v-for="(item, index) in accordionItems" :key="index" class="accordion-item">
					<div class="accordion-header" @click="toggleAccordion(index)">
						<label style="margin-top: 15px;">{{ item.title }}</label>
						<div style="float: right;">
							<button v-on:click.stop="openModal" class="addBt">
								<span class="icon">
									<i class="fas fa-regular fa-plus"></i>
								</span>
								<br><span style="font-size: 16px;">追加</span>
							</button>
						</div>
					</div>
					<div v-if="item.open" class="accordion-content">
						<label class="accordion-label">2024/10/24</label>
						<br><input type="text" class="accordion-input" v-model="item.inputValue" placeholder="眼科への通院：有" disabled>
						<br><input type="text" class="accordion-input" v-model="item.inputValue" placeholder="受信日：2024/10/24" disabled>
						<br><input type="text" class="accordion-input" v-model="item.inputValue" placeholder="眼科名：黒川眼科" disabled>
						<br><input type="text" class="accordion-input" v-model="item.inputValue" placeholder="症状：近視、白内障、レーシック" disabled>
						<br><input type="text" class="accordion-input" v-model="item.inputValue" placeholder="メガネの作成指示：無" disabled>
						<br><input type="text" class="accordion-input" v-model="item.inputValue" placeholder="処方箋：有" disabled>
						<br><input type="text" class="accordion-input" v-model="item.inputValue" placeholder="眼科医の指示・意見：経過観察" disabled>
					</div>
				</div>
				<!-- 眼位 -->
				<div class="accordion-item">
					<div id="accordionGani" class="accordion-header" @click="toggleAccordionGani">
						<label style="margin-top: 15px;">{{ accordionItemGani.title }}</label>
						<div style="float: right;">
							<button v-on:click.stop="openEyePositionModal" class="addBt">
								<span class="icon">
									<i class="fas fa-regular fa-plus"></i>
								</span>
								<br><span style="font-size: 16px;">追加</span>
							</button>
						</div>
					</div>
					<div v-if="accordionItemGani.open" class="accordion-content">
						<div class="row">
							<div class="col-4">
								<div class="row">
									<div class="col-2" style="margin-right: 100px;">
								     	<button class="eyePositionBt" :style="{ backgroundColor: isFarSelected ? 'red' : 'gray' }" @click="selectFar">
								       		 遠
								      	</button>
								    </div>
								    <div class="col-2">
								      	<button class="eyePositionBt" :style="{ backgroundColor: isNearSelected ? 'blue' : 'gray' }" @click="selectNear">
								        	近
								      	</button>
								    </div>
								</div>
							</div>
							<div class="col-8"></div>
						</div>
						<!-- 前回&前々回 -->
						<div>
							<div class="row">
								<div class="col-6">
									<div class="margin">
										<div style="text-align: left;　font-weight: bold;"><label>【前回】</label></div>
										<div class="row">
											<div class="col-4" v-if="isFarSelected"><label class="perspectiveIcon" style="background-color: red;">遠</label></div>
											<div class="col-4"  v-if="!isFarSelected"><label class="perspectiveIcon" style="background-color: blue;">近</label></div>
											<div class="col-4"><label>他覚：</label></div>
											<div class="col-4"><label>自覚：</label></div>
										</div>
										<div><img th:src="@{/img/eye-image1.png}"></div>
									</div>
									<div style="text-align: left;" class="margin">
										<label class="diamondTitle">◆水平斜位量◆</label>
										<label class="horizontalSubTitle">in=exo　out=eso<br>exo=マイナス表記</label>
									</div>
									<div>
										<label>期待値:1exo±1</label>
										<br>
										<select class="horizontalSelect" disabled>
											<option></option>
											<option>1</option>
										</select>
										<label>△</label>
									</div>
									<div class="row margin">
										<div class="col-12 totalValueEyes">
											<label>開散力(IN)<br><span>両眼合計値で記録</span></label>
										</div>
									</div>
									<div class="row">
										<div class="col-4">
											<label>ボヤケ:9±2</label>
											<br>
											<select class="totalValueEyesSelect" disabled>
												<option></option>
												<option>1</option>
											</select>
										</div>
										<div class="col-4">
											<label>分離:19±4</label>
											<br>
											<select class="totalValueEyesSelect" disabled>
												<option></option>
												<option>1</option>
											</select>
										</div>
										<div class="col-4">
											<label>回復:10±2</label>
											<br>
											<select class="totalValueEyesSelect" disabled>
												<option></option>
												<option>1</option>
											</select>
										</div>
									</div>
									<div class="row margin">
										<div class="col-12 totalValueEyes">
											<label>輻輳力 (OUT)<br><span>両眼合計値で記録</span></label>
										</div>
									</div>
									<div class="row">
										<div class="col-4">
											<label>ボヤケ</label>
											<br>
											<select class="totalValueEyesSelect" disabled>
												<option></option>
												<option>1</option>
											</select>
										</div>
										<div class="col-4">
											<label>分離:7±2</label>
											<br>
											<select class="totalValueEyesSelect" disabled>
												<option></option>
												<option>1</option>
											</select>
										</div>
										<div class="col-4">
											<label>回復:4±1</label>
											<br>
											<select class="totalValueEyesSelect" disabled>
												<option></option>
												<option>1</option>
											</select>
										</div>
									</div>
									<div class="row margin">
										<div class="col-12">
											<div style="text-align: left;" >
												<label class="diamondTitle">◆上下寄せ◆</label>
											</div>
											<div class="row">
												<div class="col-4"></div>
												<div class="col-4">
													<label>分離</label>
												</div>
												<div class="col-4">
													<label>回復</label>
												</div>
											</div>
											<div class="row topBottomBorder">
												<div class="col-4">
													<label class="topBottomTitle">UP</label>
												</div>
												<div class="col-4">
													<select class="topBottomSelect" disabled>
														<option></option>
														<option>1</option>
													</select>
												</div>
												<div class="col-4">
													<select class="topBottomSelect" disabled>
														<option></option>
														<option>1</option>
													</select>
												</div>
											</div>
											<div class="row">
												<div class="col-4">
													<label class="topBottomTitle">DOWN</label>
												</div>
												<div class="col-4">
													<select class="topBottomSelect" disabled>
														<option></option>
														<option>1</option>
													</select>
												</div>
												<div class="col-4">
													<select class="topBottomSelect" disabled>
														<option></option>
														<option>1</option>
													</select>
												</div>
											</div>
										</div>
									</div>
									<div class="row margin">
										<div class="col-12">
											<div style="text-align: left;" >
												<label class="diamondTitle">◆上下斜位量◆</label>
											</div>
											<div style="margin-top: 10px;">
												<select class="topBottomObliqueSelect" disabled>
														<option></option>
														<option>1</option>
													</select>
												<label>△</label>
											</div>
										</div>
										<div class="col-3"></div>
										<div class="col-1">
											<label>R:</label>
										</div>
										<div class="col-2">
											<label class="input-label"><input type="radio"><span class="spaceLeft">UP</span></label>
										</div>
										<div class="col-2">
											<label class="input-label"><input type="radio"><span class="spaceLeft">DOWN</span></label>
										</div>
										<div class="col-4"></div>
									</div>
									<div class="row margin">
										<div class="col-12">
											<div style="text-align: left;" >
												<label class="diamondTitle">◆利目◆</label>
											</div>
											<div class="row"  v-if="isFarSelected">
												<div class="col-4">
													<label class="perspectiveIcon" style="background-color: red;">遠</label>
												</div>
												<div class="col-2">
													<label class="input-label"><input type="radio"><span class="spaceLeft">R</span></label>
												</div>
												<div class="col-2">
													<label class="input-label"><input type="radio"><span class="spaceLeft">L</span></label>
												</div>
												<div class="col-4"></div>
											</div>
											<div class="row"  v-if="!isFarSelected">
												<div class="col-4">
													<label class="perspectiveIcon" style="background-color: blue;">近</label>
												</div>
												<div class="col-2">
													<label class="input-label"><input type="radio"><span class="spaceLeft">R</span></label>
												</div>
												<div class="col-2">
													<label class="input-label"><input type="radio"><span class="spaceLeft">L</span></label>
												</div>
												<div class="col-4"></div>
											</div>
										</div>
									</div>
									<div class="row margin">
										<div class="col-12">
											<div style="text-align: left;">
												<label class="diamondTitle">◆NPC◆</label>
											</div>
											<div class="row">
												<div class="col-4">
													<label>ボヤケ</label>
													<br>
													<select class="npcSelect" disabled>
														<option></option>
														<option>1</option>
													</select>
												</div>
												<div class="col-4">
													<label>分離2~8</label>
													<br>
													<select class="npcSelect" disabled>
														<option></option>
														<option>1</option>
													</select>
												</div>
												<div class="col-4">
													<label>回復</label>
													<br>
													<select class="npcSelect" disabled>
														<option></option>
														<option>1</option>
													</select>
												</div>
											</div>
											<div class="row margin">
												<div class="col-2 npcItems">
													<label>ボヤケ</label>
													<label>分離</label>
													<label>回復</label>
												</div>
												<div class="col-10">
													<img th:src="@{/img/eye-image3.png}" style="width: 400px;">
												</div>
											</div>
											<div style="text-align: left;">
												<div><label>メモ</label></div>
												<div><textarea class="memoArea" disabled></textarea></div>
											</div>
										</div>
									</div>
								</div>
								<div class="col-6 disp-right">
									<div class="margin">
										<div style="text-align: left;　font-weight: bold;"><label>【前々回】</label></div>
										<div class="row">
											<div class="col-4" v-if="isFarSelected"><label class="perspectiveIcon" style="background-color: red;">遠</label></div>
											<div class="col-4"  v-if="!isFarSelected"><label class="perspectiveIcon" style="background-color: blue;">近</label></div>
											<div class="col-4"><label>他覚：</label></div>
											<div class="col-4"><label>自覚：</label></div>
										</div>
										<div><img th:src="@{/img/eye-image1.png}"></div>
									</div>
									<div style="text-align: left;" class="margin">
										<label class="diamondTitle">◆水平斜位量◆</label>
										<label class="horizontalSubTitle">in=exo　out=eso<br>exo=マイナス表記</label>
									</div>
									<div>
										<label>期待値:1exo±1</label>
										<br>
										<select class="horizontalSelect" disabled>
											<option></option>
											<option>1</option>
										</select>
										<label>△</label>
									</div>
									<div class="row margin">
										<div class="col-12 totalValueEyes">
											<label>開散力(IN)<br><span>両眼合計値で記録</span></label>
										</div>
									</div>
									<div class="row">
										<div class="col-4">
											<label>ボヤケ:9±2</label>
											<br>
											<select class="totalValueEyesSelect" disabled>
												<option></option>
												<option>1</option>
											</select>
										</div>
										<div class="col-4">
											<label>分離:19±4</label>
											<br>
											<select class="totalValueEyesSelect" disabled>
												<option></option>
												<option>1</option>
											</select>
										</div>
										<div class="col-4">
											<label>回復:10±2</label>
											<br>
											<select class="totalValueEyesSelect" disabled>
												<option></option>
												<option>1</option>
											</select>
										</div>
									</div>
									<div class="row margin">
										<div class="col-12 totalValueEyes">
											<label>輻輳力 (OUT)<br><span>両眼合計値で記録</span></label>
										</div>
									</div>
									<div class="row">
										<div class="col-4">
											<label>ボヤケ</label>
											<br>
											<select class="totalValueEyesSelect" disabled>
												<option></option>
												<option>1</option>
											</select>
										</div>
										<div class="col-4">
											<label>分離:7±2</label>
											<br>
											<select class="totalValueEyesSelect" disabled>
												<option></option>
												<option>1</option>
											</select>
										</div>
										<div class="col-4">
											<label>回復:4±1</label>
											<br>
											<select class="totalValueEyesSelect" disabled>
												<option></option>
												<option>1</option>
											</select>
										</div>
									</div>
									<div class="row margin">
										<div class="col-12">
											<div style="text-align: left;" >
												<label class="diamondTitle">◆上下寄せ◆</label>
											</div>
											<div class="row">
												<div class="col-4"></div>
												<div class="col-4">
													<label>分離</label>
												</div>
												<div class="col-4">
													<label>回復</label>
												</div>
											</div>
											<div class="row topBottomBorder">
												<div class="col-4">
													<label class="topBottomTitle">UP</label>
												</div>
												<div class="col-4">
													<select class="topBottomSelect" disabled>
														<option></option>
														<option>1</option>
													</select>
												</div>
												<div class="col-4">
													<select class="topBottomSelect" disabled>
														<option></option>
														<option>1</option>
													</select>
												</div>
											</div>
											<div class="row">
												<div class="col-4">
													<label class="topBottomTitle">DOWN</label>
												</div>
												<div class="col-4">
													<select class="topBottomSelect" disabled>
														<option></option>
														<option>1</option>
													</select>
												</div>
												<div class="col-4">
													<select class="topBottomSelect" disabled>
														<option></option>
														<option>1</option>
													</select>
												</div>
											</div>
										</div>
									</div>
									<div class="row margin">
										<div class="col-12">
											<div style="text-align: left;" >
												<label class="diamondTitle">◆上下斜位量◆</label>
											</div>
											<div style="margin-top: 10px;">
												<select class="topBottomObliqueSelect" disabled>
														<option></option>
														<option>1</option>
													</select>
												<label>△</label>
											</div>
										</div>
										<div class="col-3"></div>
										<div class="col-1">
											<label>R:</label>
										</div>
										<div class="col-2">
											<label class="input-label"><input type="radio"><span class="spaceLeft">UP</span></label>
										</div>
										<div class="col-2">
											<label class="input-label"><input type="radio"><span class="spaceLeft">DOWN</span></label>
										</div>
										<div class="col-4"></div>
									</div>
									<div class="row margin">
										<div class="col-12">
											<div style="text-align: left;" >
												<label class="diamondTitle">◆利目◆</label>
											</div>
											<div class="row"  v-if="isFarSelected">
												<div class="col-4">
													<label class="perspectiveIcon" style="background-color: red;">遠</label>
												</div>
												<div class="col-2">
													<label class="input-label"><input type="radio"><span class="spaceLeft">R</span></label>
												</div>
												<div class="col-2">
													<label class="input-label"><input type="radio"><span class="spaceLeft">L</span></label>
												</div>
												<div class="col-4"></div>
											</div>
											<div class="row"  v-if="!isFarSelected">
												<div class="col-4">
													<label class="perspectiveIcon" style="background-color: blue;">近</label>
												</div>
												<div class="col-2">
													<label class="input-label"><input type="radio"><span class="spaceLeft">R</span></label>
												</div>
												<div class="col-2">
													<label class="input-label"><input type="radio"><span class="spaceLeft">L</span></label>
												</div>
												<div class="col-4"></div>
											</div>
										</div>
									</div>
									<div class="row margin">
										<div class="col-12">
											<div style="text-align: left;">
												<label class="diamondTitle">◆NPC◆</label>
											</div>
											<div class="row">
												<div class="col-4">
													<label>ボヤケ</label>
													<br>
													<select class="npcSelect" disabled>
														<option></option>
														<option>1</option>
													</select>
												</div>
												<div class="col-4">
													<label>分離2~8</label>
													<br>
													<select class="npcSelect" disabled>
														<option></option>
														<option>1</option>
													</select>
												</div>
												<div class="col-4">
													<label>回復</label>
													<br>
													<select class="npcSelect" disabled>
														<option></option>
														<option>1</option>
													</select>
												</div>
											</div>
											<div class="row margin">
												<div class="col-2 npcItems">
													<label>ボヤケ</label>
													<label>分離</label>
													<label>回復</label>
												</div>
												<div class="col-10">
													<img th:src="@{/img/eye-image3.png}" style="width: 400px;">
												</div>
											</div>
											<div style="text-align: left;">
												<div><label>メモ</label></div>
												<div><textarea class="memoArea" disabled></textarea></div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- 作成度数 -->
				<div class="accordion-item">
					<div id="accordionDosu" class="accordion-header" @click="toggleAccordionDosu">
						<label style="margin-top: 15px;">{{ accordionItemDosu.title }}</label>
						<div style="float: right;">
							<button v-on:click.stop="openCreateDosuModal" class="addBt">
								<span class="icon">
									<i class="fas fa-regular fa-plus"></i>
								</span>
								<br><span style="font-size: 16px;">追加</span>
							</button>
						</div>
					</div>
					<div v-if="accordionItemDosu.open" class="accordion-content">
						<div class="row">
						</div>
					</div>
				</div>
				<!-- 過去データ -->
				<div class="accordion-item">
					<div id="accordionKako" class="accordion-header" @click="toggleAccordionHistory">
						<label style="margin-top: 15px;">{{ accordionItemHistory.title }}</label>
						<div style="float: right;">
							<button v-on:click.stop="openEyePositionModal" class="addBt">
								<span class="icon">
									<i class="fas fa-regular fa-plus"></i>
								</span>
								<br><span style="font-size: 16px;">追加</span>
							</button>
						</div>
					</div>
					<div v-if="accordionItemHistory.open" class="accordion-content">
						<div class="row">
						</div>
					</div>
				</div>
				<!-- 売上データ -->
				<div class="accordion-item">
					<div id="accordionUriage" class="accordion-header" @click="toggleAccordionSales">
						<label style="margin-top: 15px;">{{ accordionItemSales.title }}</label>
						<div style="float: right;">
							<button v-on:click.stop="openEyePositionModal" class="addBt">
								<span class="icon">
									<i class="fas fa-regular fa-plus"></i>
								</span>
								<br><span style="font-size: 16px;">追加</span>
							</button>
						</div>
					</div>
					<div v-if="accordionItemSales.open" class="accordion-content">
						<div class="row">
						</div>
					</div>
				</div>
			</div>
			<!--  -->
			<!--  -->
			<!--  -->
			<!--  -->
			<!--  -->
			<!--  -->
			<!--  -->
			<!-- モーダル -->
			<customer-edit-modal ref=customerEditModal></customer-edit-modal>
			<visiting-hospital-modal ref=visitingHospitalModal></visiting-hospital-modal>
			<eye-position-modal ref=eyePositionModal></eye-position-modal>
			<create-dosu-modal ref=createDosuModal></create-dosu-modal>
			<processing v-if="processingFlg"></processing>
		</main>
	</div>
	<div th:replace="footer"></div>
</body>
</html>
